(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},o={app:0},n=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),o=a.n(r);o.a},"05dc":function(t,e,a){"use strict";var r=a("3651"),o=a.n(r);o.a},"05fd":function(t,e,a){t.exports=a.p+"img/dealmate.b650ffc2.png"},"1dfe":function(t,e,a){},3651:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},n=[],s={mounted:function(){console.log("Component mounted.")}},i=s,l=(a("034f"),a("2877")),c=Object(l["a"])(i,o,n,!1,null,null,null),u=c.exports,d=(a("b0c0"),a("8c4f")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("Sidebar",{attrs:{sidebar:t.sidebar}}),a("v-main",[a("BreadCrumb"),a("router-view")],1)],1)},v=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-theme-provider",{attrs:{dark:""}},[a("v-navigation-drawer",{attrs:{color:"blue-grey darken-4",app:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"\n            pa-2\n            mx-auto\n            text-caption text-uppercase text-center\n            grey--text\n            text-darken-2\n          "},[t._v(" Dealmate "),a("br"),t._v(" Copyright Â© "+t._s((new Date).getFullYear())+" ")])]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("perfect-scrollbar",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h4 font-weight-black text-center white--text"},[t._v(" LMS ")])],1)],1),a("v-divider"),a("v-list-item",[a("v-avatar",{staticClass:"mr-2",attrs:{color:"brown",size:"40"}},[!t.img&&t.initials?a("span",{staticClass:"white--text headline"},[t._v(t._s(t.initials))]):t._e(),t.img?a("img",{attrs:{src:t.img,width:"30px",alt:t.name}}):t._e()]),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-button"},[t._v(" "+t._s(t.name||"Loading...")+" ")]),a("v-list-item-subtitle",{staticClass:"text-overline"},[t._v(" SUPER ADMIN ")])],1)],1),a("v-divider"),a("v-list",{staticClass:"sidebar-list-ui",attrs:{dense:""}},[t._l(t.sidebar,(function(e){return[!e.items.length>0?a("v-list-item",{key:e.title,attrs:{router:"",to:e.route,color:t.globalSideBarActiveColor}},[a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1):a("v-list-group",{key:e.title,attrs:{"prepend-icon":"",color:t.globalSideBarActiveColor},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-title",[t._v(t._s(e.title))])]},proxy:!0}],null,!0)},t._l(e.items,(function(e,r){return a("v-list-item",{key:r,staticClass:"blue-grey darken-2",attrs:{router:"",to:e.link}},[a("v-list-item-title",{staticClass:"pl-4",domProps:{textContent:t._s(e.title)}})],1)})),1)]}))],2)],1)],1)],1),a("v-app-bar",{attrs:{app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-autocomplete",{staticClass:"search-styles",attrs:{items:t.smartRoutes,"search-input":t.routeLocationInput,filter:function(){return!0},"item-text":"title",label:"Search","hide-no-data":"","hide-details":"","return-object":"",dense:"",solo:"",light:"",flat:"","append-icon":"","prepend-inner-icon":"mdi-magnify"},on:{"update:searchInput":function(e){t.routeLocationInput=e},"update:search-input":function(e){t.routeLocationInput=e},change:t.handleSearchRoute,blur:t.resetSearchStates},model:{value:t.selectedSearch,callback:function(e){t.selectedSearch=e},expression:"selectedSearch"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.routeLocationInput,expression:"routeLocationInput"},{name:"smart-routes",rawName:"v-smart-routes",value:t.smartRoutes,expression:"smartRoutes"}],attrs:{type:"text",hidden:""},domProps:{value:t.routeLocationInput},on:{input:function(e){e.target.composing||(t.routeLocationInput=e.target.value)}}}),a("v-spacer"),a("v-menu",{attrs:{bottom:"","min-width":"250px",left:"","offset-y":"",tile:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:""}},r),[a("v-btn",{attrs:{icon:"",color:"primary",fab:"",small:""}},[a("v-icon",[t._v("mdi-bell-outline")])],1)],1)]}}])},[a("v-card",{attrs:{tile:""}},[a("v-list-item-content",{staticClass:"justify-center"},[a("div",{staticClass:"mx-auto"},[a("v-list",{attrs:{dense:"",flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},on:{change:t.notificationRedirect}},t._l(t.items,(function(e,r){return a("v-list-item",{key:r},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text text--darken-3",domProps:{textContent:t._s(e.text)}}),a("v-list-item-subtitle",{staticClass:"grey--text"},[t._v(t._s(e.time))])],1)],1)})),1)],1),a("v-btn",{staticClass:"text-caption",staticStyle:{color:"#3d3d3d"},attrs:{depressed:"",text:"",block:""}},[t._v(" View all Notifications ")])],1)])],1)],1),a("v-menu",{attrs:{bottom:"","min-width":"250px",left:"","offset-y":"",tile:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:""}},r),[a("v-btn",{attrs:{icon:"",color:"primary",fab:"",small:""}},[a("v-icon",[t._v("mdi-email-outline")])],1)],1)]}}])},[a("v-card",{attrs:{tile:""}},[a("v-list-item-content",{staticClass:"justify-center"},[a("div",{staticClass:"mx-auto"},[a("v-list",{attrs:{dense:"",flat:""}},[a("v-list-item-group",{attrs:{color:"primary"},on:{change:t.notificationRedirect}},t._l(t.items,(function(e,r){return a("v-list-item",{key:r},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"grey--text text--darken-3",domProps:{textContent:t._s(e.text)}}),a("v-list-item-subtitle",{staticClass:"grey--text"},[t._v(t._s(e.time))])],1)],1)})),1)],1),a("v-btn",{staticClass:"text-caption",staticStyle:{color:"#3d3d3d"},attrs:{depressed:"",text:"",block:""}},[t._v(" View all Messages ")])],1)])],1)],1),a("v-menu",{attrs:{bottom:"","min-width":"200px",left:"","offset-y":"",tile:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:""}},r),[a("v-avatar",{attrs:{color:t.avatarColor,size:"30"}},[!t.img&&t.initials?a("span",{staticClass:"white--text headline"},[t._v(t._s(t.initials))]):t._e(),t.img?a("img",{attrs:{src:t.img,alt:t.name}}):t._e()])],1)]}}])},[a("v-card",{attrs:{tile:""}},[a("v-list-item-content",{staticClass:"justify-center"},[a("div",{staticClass:"mx-auto text-center"},[a("v-avatar",{attrs:{color:"brown"}},[!t.img&&t.initials?a("span",{staticClass:"white--text headline"},[t._v(t._s(t.initials))]):t._e(),t.img?a("img",{attrs:{src:t.img,width:"30px",alt:t.name}}):t._e()]),a("h4",{staticClass:"text-button",staticStyle:{color:"#3d3d3d"}},[t._v(" "+t._s(t.name)+" ")]),a("v-divider",{staticClass:"my-1"}),a("v-btn",{staticClass:"text-overline",staticStyle:{color:"#3d3d3d"},attrs:{depressed:"",text:"",block:""}},[t._v(" Edit Account ")]),a("v-divider",{staticClass:"my-1"}),a("v-btn",{staticClass:"text-overline",staticStyle:{color:"#3d3d3d"},attrs:{depressed:"",text:"",block:""},on:{click:function(e){return t.logout()}}},[t._v(" logout ")])],1)])],1)],1),a("v-progress-linear",{attrs:{active:this.$store.getters.getGlobalLoading,indeterminate:"",absolute:"",bottom:"",color:t.globalLoaderColor}})],1)],1)},f=[],b=(a("d3b7"),a("96cf"),a("1da1")),h=a("bc3a"),g=a.n(h),x=g.a.create({baseURL:"http://localhost:3000/api/v1"});x.interceptors.request.use((function(t){var e=S();return t.headers.Authorization=e?"Bearer ".concat(e):"",t}));var k=x,_=a("852e"),y=a.n(_),C=a("72bf");function w(t,e){return new Promise((function(a,r){try{var o={"Content-Type":"application/x-www-form-urlencoded"};k.post("/auth/login",C.stringify({email:t,grant_type:"password",password:e}),{headers:o}).then((function(t){console.log(t),console.log(t.data.token,"token"),console.log(t.data.data.user,"user"),V(t.data.token,t.data.data.user),a()}),(function(t){console.error("Caught an error during login:",t),r(t)}))}catch(n){console.error("Caught an error during login:",n),r(n)}}))}function V(t,e){k.defaults.headers.common["Authorization"]="Bearer ".concat(t),y.a.set("AUTH_TOKEN_KEY",t),y.a.set("AUTH_TOKEN_USER",JSON.stringify(e))}function S(){return y.a.get("AUTH_TOKEN_KEY")}function N(){return y.a.get("AUTH_TOKEN_USER")}function T(){return P.apply(this,arguments)}function P(){return P=Object(b["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=S(),!e){t.next=11;break}return t.next=4,O();case 4:if(a=t.sent,console.log(a),!a){t.next=10;break}return t.abrupt("return",!0);case 10:return t.abrupt("return",!1);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}function O(){return R.apply(this,arguments)}function R(){return R=Object(b["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/auth/verify-token",{headers:{Authorization:"Bearer "+S()}});case 3:return e=t.sent,t.next=6,e;case 6:return a=t.sent,console.log(a),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),R.apply(this,arguments)}var I={props:["sidebar"],data:function(){return{initials:null,name:null,drawer:null,img:a("e7ad"),model:1,smartRoutes:[],selectedSearch:null,routeLocationInput:null,avatarColor:"brown",items:[{text:"Real-Time",time:"just now"},{text:"Audience",time:"just now"},{text:"Conversions",time:"just now"}]}},watch:{img:function(t){this.avatarColor=t?null:"brown"}},created:function(){console.log("cookie",this.$cookie.get("AUTH_TOKEN_USER")),console.log(N());var t=JSON.parse(N());this.name=t.username,this.initials=t.username[0]},methods:{notificationRedirect:function(t){console.log("notification hit",t)},setGlobalLoadingState:function(t){this.$store.dispatch("setGlobalLoadingState",t)},resetSearchStates:function(){this.selectedSearch="",this.smartRoutes=[],this.routeLocationInput=""},handleSearchRoute:function(){console.log(this.selectedSearch),this.$router.push({name:this.selectedSearch.name}),this.resetSearchStates()},logout:function(){this.$cookie.delete("AUTH_TOKEN_KEY"),window.location.href="/"}}},E=I,A=(a("05dc"),a("6544")),M=a.n(A),L=a("40dc"),B=a("5bc1"),D=a("c6a6"),$=a("8212"),j=a("8336"),F=a("b0af"),q=a("ce7e"),U=a("132d"),G=a("8860"),H=a("56b0"),Y=a("da13"),K=a("1800"),z=a("5d23"),J=a("1baa"),W=a("34c3"),X=a("e449"),Q=a("f774"),Z=a("8e36"),tt=a("2fa4"),et=a("480e"),at=Object(l["a"])(E,p,f,!1,null,"26a5534c",null),rt=at.exports;M()(at,{VAppBar:L["a"],VAppBarNavIcon:B["a"],VAutocomplete:D["a"],VAvatar:$["a"],VBtn:j["a"],VCard:F["a"],VDivider:q["a"],VIcon:U["a"],VList:G["a"],VListGroup:H["a"],VListItem:Y["a"],VListItemAction:K["a"],VListItemContent:z["a"],VListItemGroup:J["a"],VListItemIcon:W["a"],VListItemSubtitle:z["b"],VListItemTitle:z["c"],VMenu:X["a"],VNavigationDrawer:Q["a"],VProgressLinear:Z["a"],VSpacer:tt["a"],VThemeProvider:et["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-alert",{attrs:{color:t.globalBreadCrumb,light:"",dense:"",flat:""}},[a("v-breadcrumbs",{staticClass:"py-3",attrs:{ligth:"",items:t.crumbs},scopedSlots:t._u([{key:"item",fn:function(e){var r=e.item;return[a("v-breadcrumbs-item",[t._v(t._s(r.text.toUpperCase()))])]}}])})],1)],1)},nt=[],st=(a("d81d"),a("ac1f"),a("1276"),{computed:{crumbs:function(){var t=this.$route.name.split(".").map((function(t){return{text:t}}));return t}}}),it=st,lt=a("0798"),ct=a("2bc5"),ut=a("f625"),dt=Object(l["a"])(it,ot,nt,!1,null,null,null),mt=dt.exports;M()(dt,{VAlert:lt["a"],VBreadcrumbs:ct["a"],VBreadcrumbsItem:ut["a"]});var vt={components:{Sidebar:rt,BreadCrumb:mt},data:function(){return{drawer:null,sidebar:[{title:"Dashboard",icon:"mdi-view-dashboard",route:"/admin/dashboard",items:[]},{title:"Books",icon:"mdi-view-dashboard",route:"/admin/books",items:[]}]}}},pt=vt,ft=a("7496"),bt=a("f6c4"),ht=Object(l["a"])(pt,m,v,!1,null,null,null),gt=ht.exports;M()(ht,{VApp:ft["a"],VMain:bt["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"400"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto text-center",attrs:{color:"red darken-3",elevation:"12","max-width":"calc(100% - 140px)"}},[a("v-icon",{staticClass:"my-4",attrs:{"x-large":""}},[t._v("mdi-truck-fast")])],1),a("v-card-text",{staticClass:"pt-0 text-center text-margin"},[a("div",{staticClass:"title font-weight-light"},[t._v("Products")]),a("div",{staticClass:"subtitle-1 font-weight-light grey--text"},[t._v(" "+t._s(t.products)+" ")])])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"400"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto text-center",attrs:{color:"purple darken-3",elevation:"12","max-width":"calc(100% - 140px)"}},[a("v-icon",{staticClass:"my-4",attrs:{"x-large":""}},[t._v("mdi-clipboard-check")])],1),a("v-card-text",{staticClass:"pt-0 text-center text-margin"},[a("div",{staticClass:"title font-weight-light"},[t._v("Customers")]),a("div",{staticClass:"subtitle-1 font-weight-light grey--text"},[t._v(" "+t._s(t.customers)+" ")])])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"400"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto text-center",attrs:{color:"green darken-3",elevation:"12","max-width":"calc(100% - 140px)"}},[a("v-icon",{staticClass:"my-4",attrs:{"x-large":""}},[t._v("mdi-account-group")])],1),a("v-card-text",{staticClass:"pt-0 text-center text-margin"},[a("div",{staticClass:"title font-weight-light"},[t._v("Orders")]),a("div",{staticClass:"subtitle-1 font-weight-light grey--text"},[t._v(" "+t._s(t.orders)+" ")])])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("v-card",{staticClass:"mt-4 mx-auto",attrs:{"max-width":"400"}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto text-center",attrs:{color:"orange darken-3",elevation:"12","max-width":"calc(100% - 140px)"}},[a("v-icon",{staticClass:"my-4",attrs:{"x-large":""}},[t._v("mdi-cash-multiple")])],1),a("v-card-text",{staticClass:"pt-0 text-center text-margin"},[a("div",{staticClass:"title font-weight-light"},[t._v("Income")]),a("div",{staticClass:"subtitle-1 font-weight-light grey--text"},[t._v(" "+t._s(t.amount_paid)+" ")])])],1)],1)],1)],1)],1)},kt=[],_t={data:function(){return{loading:!1,products:"100",orders:"100",customers:"100",amount_paid:"100"}}},yt=_t,Ct=a("99d9"),wt=a("62ad"),Vt=a("a523"),St=a("0fd9"),Nt=a("8dd9"),Tt=Object(l["a"])(yt,xt,kt,!1,null,null,null),Pt=Tt.exports;M()(Tt,{VCard:F["a"],VCardText:Ct["b"],VCol:wt["a"],VContainer:Vt["a"],VIcon:U["a"],VRow:St["a"],VSheet:Nt["a"]});var Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.books,options:t.options,"server-items-length":t.totalBooks,"footer-props":{itemsPerPageOptions:[5,10,15]},loading:t.loading,"loading-text":"Loading... Please wait","single-expand":t.singleExpand,expanded:t.expanded,"show-expand":"","item-key":"_id","disable-sort":""},on:{"update:options":function(e){t.options=e},"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.coverPrice",fn:function(e){var a=e.item;return[t._v(" $ "+t._s(a.coverPrice.$numberDecimal)+" ")]}},{key:"item.publishYear",fn:function(e){var r=e.item;return[r.publishYear?a("v-row",[a("v-col",{staticClass:"px-0",attrs:{cols:"12"}},[t._v(" "+t._s(new Date(""+r.publishYear).toLocaleString())+" ")])],1):t._e()]}},{key:"item.status",fn:function(e){var r=e.item;return[r.status?a("v-chip",{attrs:{color:t.getColor(r.status),dark:""}},[t._v(" "+t._s(r.status)+" ")]):t._e(),r.status?t._e():a("v-chip",{attrs:{color:t.getColor(r.status),dark:""}},[t._v(" "+t._s(r.status)+" ")])]}},{key:"item.Action",fn:function(e){var r=e.item;return["checkedOut"===r.status?a("v-row",[a("v-col",{staticClass:"py-1 justify-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"error",attrs:{depressed:"",small:""},on:{click:function(e){return t.handleCheckIn(r)}}},[t._v(" Check In ")])],1)],1):t._e(),"checkedIn"===r.status?a("v-row",[a("v-col",{staticClass:"py-1 justify-end",attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"success",dark:"",small:""},on:{click:function(e){return t.handleCheckOut(r)}}},[t._v(" Check Out ")])],1)],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.headers,o=e.item;return[a("td",{attrs:{colspan:r.length}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-subheader",[t._v("History Detail")])],1),a("v-row",[a("v-col",{staticClass:"justify-center",attrs:{cols:"12"}},[a("v-simple-table",{staticClass:"elevation-1",attrs:{"fixed-header":"",dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" Name ")]),a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" ID ")]),a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" Mobile ")]),a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" Checked Out ")]),a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" Required Return ")]),a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" Actual Return ")]),a("th",{staticClass:"grey lighten-5 grey--text text-left"},[t._v(" Status ")])])]),a("tbody",t._l(o.history,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.personName))]),a("td",[t._v(" "+t._s(e.personNationalId)+" ")]),a("td",[t._v(t._s(e.personMobileNumber))]),a("td",[t._v(" "+t._s(e.checkoutTimeStamp&&new Date(""+e.checkoutTimeStamp).toLocaleString())+" ")]),a("td",[t._v(" "+t._s(e.requiredReturnTimeStamp&&new Date(""+e.requiredReturnTimeStamp).toLocaleString())+" ")]),a("td",[t._v(" "+t._s(e.actualReturnTimeStamp&&new Date(""+e.actualReturnTimeStamp).toLocaleString())+" ")]),a("td",[t._v(t._s(e.checkoutStatus))])])})),0)]},proxy:!0}],null,!0)})],1)],1)],1)],1),a("v-divider")],1)]}}],null,!0)})],1)],1)],1),a("v-snackbar",{attrs:{absolute:"",centered:"",color:"blue-grey darken-2",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},Rt=[],It=(a("99af"),a("5319"),{data:function(){return{bread_crumb_items:[{text:"Admin"},{text:"Books"}],snackbar:!1,text:"",expanded:[],singleExpand:!0,row_expanded:!1,expandedLoading:!1,loading:!0,options:{},form:"",valid:"",headers:[{text:"Title",value:"bookTitle",align:"center",sortable:!1},{text:"ISBN",value:"isbn",align:"center"},{text:"Published",value:"publishYear",align:"center"},{text:"Price",value:"coverPrice",align:"center"},{text:"Status",value:"status",align:"center"},{text:"Action",align:"center",value:"Action",sortable:!1},{text:"",value:"data-table-expand"}],books:[],totalBooks:0}},created:function(){var t=this;this.headers.map((function(e){e["class"]=t.globalBackgroundColor+" "+t.globalFontColor})),this.getBooks()},watch:{options:{handler:function(){this.getBooks()},deep:!0}},methods:{getBooks:function(){var t=this,e=this.options,a=e.page,r=e.itemsPerPage;console.log(a,"page"),console.log(r,"pageper");var o="/book?page=".concat(a,"&perPage=").concat(r);a&&k.get(o).then((function(e){var a,r,o,n,s,i,l,c,u,d;console.log(null===(a=e.data)||void 0===a||null===(r=a.body)||void 0===r||null===(o=r.books)||void 0===o?void 0:o.docs),t.books=null===(n=e.data)||void 0===n||null===(s=n.body)||void 0===s||null===(i=s.books)||void 0===i?void 0:i.docs,t.totalBooks=null===(l=e.data)||void 0===l||null===(c=l.body)||void 0===c||null===(u=c.books)||void 0===u||null===(d=u.docs)||void 0===d?void 0:d.length,t.loading=!1}),(function(){t.snackbar=!0,t.text="Error fetching books, please refresh"}))},handleCheckOut:function(t){this.$router.replace({name:"admin.dashboard.books.checkout",params:{id:t._id}})},handleCheckIn:function(t){this.$router.replace({name:"admin.dashboard.books.checkin",params:{id:t._id}})},getColor:function(t){return"checkedOut"===t||!1===t?"red":"checkedIn"===t||!0===t?"green":void 0}}}),Et=It,At=(a("a78c"),a("cc20")),Mt=a("8fea"),Lt=a("4bd4"),Bt=a("1f4f"),Dt=a("2db4"),$t=a("e0c7"),jt=Object(l["a"])(Et,Ot,Rt,!1,null,"7a4e60db",null),Ft=jt.exports;M()(jt,{VBtn:j["a"],VCard:F["a"],VChip:At["a"],VCol:wt["a"],VContainer:Vt["a"],VDataTable:Mt["a"],VDivider:q["a"],VForm:Lt["a"],VRow:St["a"],VSimpleTable:Bt["a"],VSnackbar:Dt["a"],VSubheader:$t["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form",attrs:{elevation:10},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Checkout Book")])]),a("v-card-text",[a("v-text-field",{ref:"personName",attrs:{rules:[function(){return!!t.personName||"This field is required"}],"error-messages":t.errorMessages,label:"Person Name",placeholder:"Person Name",outlined:"",required:"",dense:""},model:{value:t.personName,callback:function(e){t.personName=e},expression:"personName"}}),a("v-text-field",{ref:"personNationalId",attrs:{rules:t.nationalIdRules,"error-messages":t.errorMessages,label:"Person National ID",placeholder:"Person National ID",outlined:"",required:"",dense:""},model:{value:t.personNationalId,callback:function(e){t.personNationalId=e},expression:"personNationalId"}}),a("v-text-field",{ref:"personMobileNumber",attrs:{rules:t.mobileRules,"error-messages":t.errorMessages,label:"Person Mobile",placeholder:"Person Mobile",outlined:"",required:"",dense:""},model:{value:t.personMobileNumber,callback:function(e){t.personMobileNumber=e},expression:"personMobileNumber"}})],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:t.reset}},[t._v(" Reset ")]),a("v-spacer"),a("v-slide-x-reverse-transition",[t.formHasErrors?a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"my-0",attrs:{icon:""},on:{click:t.reset}},"v-btn",o,!1),r),[a("v-icon",[t._v("mdi-refresh")])],1)]}}],null,!1,2858395873)},[a("span",[t._v("Refresh form")])]):t._e()],1),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.submit}},[t._v(" Checkout ")])],1)],1)],1)],1)]],2),a("v-snackbar",{attrs:{absolute:"",centered:"",color:"blue-grey darken-2",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},Ut=[],Gt=(a("4160"),a("b64b"),a("159b"),{data:function(){return{snackbar:!1,text:"",role:null,bookId:null,personName:null,personNationalId:null,personMobileNumber:null,formHasErrors:!1,loading:!0,valid:!0,errorMessages:null,rules:[function(t){return!!t||"Required."},function(t){return t&&t.length>=3||"Min 3 characters"}],mobileRules:[function(t){return!!t||"Required."},function(t){return/^\d{2}-\d{3} \d{4}$/.test(t)||"xx-xxx xxxx formate required - only digits"}],nationalIdRules:[function(t){return!!t||"Required."},function(t){return/^\d{11}$/.test(t)||"xxxxxxxxxxx formate required - only digits"}],numberRule:[function(t){return t>=0&&t<=9999999||"Only numbers allowed"}]}},created:function(){this.bookId=this.$route.params.id},computed:{form:function(){return{personName:this.personName,personNationalId:this.personNationalId,personMobileNumber:this.personMobileNumber}}},watch:{},methods:{reset:function(){var t=this;this.errorMessages=[],this.formHasErrors=!1,Object.keys(this.form).forEach((function(e){t.$refs[e].reset()}))},submit:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.formHasErrors=!1,console.log(t.form),Object.keys(t.form).forEach((function(e){var a;t.form[e]||(t.formHasErrors=!0),null===(a=t.$refs[e])||void 0===a||a.validate(!0)})),console.log(t.formHasErrors),t.formHasErrors||(a={bookId:t.bookId,personName:t.personName,personNationalId:t.personNationalId,personMobileNumber:t.personMobileNumber},k.post("/book/checkout-book",a).then((function(e){"success"===e.data.status&&(t.snackbar=!0,t.text="Book Checkout Successfully",t.reset())})).catch((function(e){console.log(e.response.data.error.message),t.snackbar=!0,t.text=e.response.data.error.message||"Something went wrong"})));case 5:case"end":return e.stop()}}),e)})))()}}}),Ht=Gt,Yt=(a("9b52"),a("0789")),Kt=a("8654"),zt=a("3a2f"),Jt=Object(l["a"])(Ht,qt,Ut,!1,null,"365d2851",null),Wt=Jt.exports;M()(Jt,{VBtn:j["a"],VCard:F["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:wt["a"],VContainer:Vt["a"],VDivider:q["a"],VIcon:U["a"],VRow:St["a"],VSlideXReverseTransition:Yt["d"],VSnackbar:Dt["a"],VSpacer:tt["a"],VTextField:Kt["a"],VTooltip:zt["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:""}},[[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form",attrs:{elevation:10},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Checkin Book")])]),a("v-card-text",[a("v-text-field",{ref:"personName",attrs:{rules:[function(){return!!t.personName||"This field is required"}],"error-messages":t.errorMessages,label:"Person Name",placeholder:"Person Name",outlined:"",required:"",readonly:"",dense:""},model:{value:t.personName,callback:function(e){t.personName=e},expression:"personName"}}),a("v-text-field",{ref:"personNationalId",attrs:{rules:t.nationalIdRules,"error-messages":t.errorMessages,label:"Person National ID",placeholder:"Person National ID",outlined:"",required:"",readonly:"",dense:""},model:{value:t.personNationalId,callback:function(e){t.personNationalId=e},expression:"personNationalId"}}),a("v-text-field",{ref:"personMobileNumber",attrs:{rules:t.mobileRules,"error-messages":t.errorMessages,label:"Person Mobile",placeholder:"Person Mobile",outlined:"",required:"",readonly:"",dense:""},model:{value:t.personMobileNumber,callback:function(e){t.personMobileNumber=e},expression:"personMobileNumber"}}),a("v-text-field",{ref:"requiredReturnTimeStamp",attrs:{"error-messages":t.errorMessages,label:"Required Return Time",placeholder:"Required Return Time",outlined:"",required:"",readonly:"",dense:""},model:{value:t.requiredReturnTimeStamp,callback:function(e){t.requiredReturnTimeStamp=e},expression:"requiredReturnTimeStamp"}}),a("v-text-field",{ref:"actualReturnTimeStamp",attrs:{rules:t.mobileRules,"error-messages":t.errorMessages,label:"Actual Return Time",placeholder:"Actual Return Time",outlined:"",required:"",readonly:"",dense:""},model:{value:t.actualReturnTimeStamp,callback:function(e){t.actualReturnTimeStamp=e},expression:"actualReturnTimeStamp"}})],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("span",{staticClass:"text-h6"},[t._v("Penalty of Rs : "+t._s(t.penalty))]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.submit}},[t._v(" Checkin ")])],1)],1)],1)],1)]],2),a("v-snackbar",{attrs:{absolute:"",centered:"",color:"blue-grey darken-2",elevation:"24"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},Qt=[],Zt=(a("7db0"),{data:function(){return{snackbar:!1,text:"",role:null,bookId:null,book:null,personName:null,personNationalId:null,personMobileNumber:null,requiredReturnTimeStamp:null,penalty:null,formHasErrors:!1,loading:!0,valid:!0,errorMessages:null,rules:[function(t){return!!t||"Required."},function(t){return t&&t.length>=3||"Min 3 characters"}],mobileRules:[function(t){return!!t||"Required."},function(t){return/^\d{2}-\d{3} \d{4}$/.test(t)||"xx-xxx xxxx formate required - only digits"}],nationalIdRules:[function(t){return!!t||"Required."},function(t){return/^\d{11}$/.test(t)||"xxxxxxxxxxx formate required - only digits"}],numberRule:[function(t){return t>=0&&t<=9999999||"Only numbers allowed"}]}},created:function(){this.bookId=this.$route.params.id,this.getBook()},computed:{form:function(){return{personName:this.personName,personNationalId:this.personNationalId,personMobileNumber:this.personMobileNumber}},actualReturnTimeStamp:function(){return new Date}},watch:{},methods:{reset:function(){var t=this;this.errorMessages=[],this.formHasErrors=!1,Object.keys(this.form).forEach((function(e){t.$refs[e].reset()}))},getBook:function(){var t=this,e="/book?id=".concat(this.bookId);k.get(e).then((function(e){var a,r,o,n,s,i,l=null===(a=e.data)||void 0===a||null===(r=a.body)||void 0===r||null===(o=r.books)||void 0===o?void 0:o.docs[0],c=l._id,u=l.bookTitle,d=l.history;console.log(u,c,d);var m=d.find((function(t){return"true"==t.checkoutStatus}));console.log(m),m&&(t.personName=null===m||void 0===m?void 0:m.personName,t.personNationalId=m.personNationalId,t.personMobileNumber=m.personMobileNumber,t.requiredReturnTimeStamp=new Date(m.requiredReturnTimeStamp)),t.book=null===(n=e.data)||void 0===n||null===(s=n.body)||void 0===s||null===(i=s.books)||void 0===i?void 0:i.docs,t.loading=!1}),(function(){t.snackbar=!0,t.text="Error fetching book, please refresh"}))},submit:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={bookId:t.bookId,personNationalId:t.personNationalId},k.post("/book/checkin-book",a).then((function(e){"success"===e.data.status&&(console.log(e,"res"),t.penalty=e.data.body.penalty,t.snackbar=!0,t.text="Book Checkin Successfully. Penalty of RS: "+e.data.body.penalty,t.reset())})).catch((function(e){console.log(e.response.data.error.message),t.snackbar=!0,t.text=e.response.data.error.message||"Something went wrong"}));case 2:case"end":return e.stop()}}),e)})))()}}}),te=Zt,ee=(a("a71b"),Object(l["a"])(te,Xt,Qt,!1,null,"5d6ddcb1",null)),ae=ee.exports;M()(ee,{VBtn:j["a"],VCard:F["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:wt["a"],VContainer:Vt["a"],VDivider:q["a"],VRow:St["a"],VSnackbar:Dt["a"],VSpacer:tt["a"],VTextField:Kt["a"]});var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("Menu"),a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{staticClass:"mx-auto",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mx-auto text-center"},[a("v-card",{staticClass:"mx-auto",attrs:{flat:"","max-width":"800"}},[a("v-card-text",{staticClass:"text-center font-weight-bold"},[a("img",{staticStyle:{width:"150px"},attrs:{src:t.source,alt:"logo"}}),a("p",{staticClass:"display-2 text--primary pt-5"},[a("span",{staticClass:"green--text lighten-5 font-weight-bold"},[t._v("Admin")])])])],1)],1)],1)],1),a("Footer")],1)],1)},oe=[],ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-right px-5 py-5"},[a("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{color:"dark",light:""}},r),[a("v-icon",[t._v("mdi-apps")])],1)]}}])},[a("v-list",t._l(t.links,(function(e){return a("v-list-item",{key:e.text,attrs:{router:"",to:e.route}},[a("v-list-item-title",[a("v-icon",[t._v(t._s(e.icon))]),t._v(" "+t._s(e.text)+" ")],1)],1)})),1)],1)],1)},se=[],ie={data:function(){return{links:[{icon:"mdi-login",text:"Login",route:"/login"},{icon:"mdi-login",text:"Admin",route:"/admin"},{icon:"mdi-home",text:"Home",route:"/",show:!0}]}}},le=ie,ce=Object(l["a"])(le,ne,se,!1,null,null,null),ue=ce.exports;M()(ce,{VBtn:j["a"],VIcon:U["a"],VList:G["a"],VListItem:Y["a"],VListItemTitle:z["c"],VMenu:X["a"]});var de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{padless:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" â "),a("strong",[t._v("Dealmate")])])],1)},me=[],ve=a("553a"),pe={},fe=Object(l["a"])(pe,de,me,!1,null,null,null),be=fe.exports;M()(fe,{VCol:wt["a"],VFooter:ve["a"]});var he={data:function(){return{source:""}},components:{Menu:ue,Footer:be},methods:{},created:function(){this.source=a("05fd")}},ge=he,xe=Object(l["a"])(ge,re,oe,!1,null,null,null),ke=xe.exports;M()(xe,{VApp:ft["a"],VCard:F["a"],VCardText:Ct["b"],VCol:wt["a"],VContainer:Vt["a"],VRow:St["a"]});var _e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire",dark:""}},[a("Menu"),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{staticClass:"mx-auto",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12 mx-auto"},[a("v-progress-linear",{attrs:{active:t.loading,color:"indigo darken-4",striped:"",top:"",indeterminate:t.loading,absolute:""}}),a("v-toolbar",{attrs:{color:"success",dark:"",flat:"","max-height":"150px"}},[a("v-toolbar-title",[t._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}}},[a("v-text-field",{attrs:{label:"Email",name:"email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","append-icon":t.show2?"mdi-eye":"mdi-eye-off",type:t.show2?"text":"password"},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-3 mb-3",attrs:{block:"",color:"success"},on:{click:t.login}},[t._v("Login")])],1)],1)],1),a("v-card-actions")],1)],1)],1),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1),a("Footer")],1)],1)},ye=[],Ce={data:function(){return{show2:!1,snackbar:!1,text:"",email:null,password:null,countryCodes:null,selectedCountryCode:"",has_error:!1,loading:!1}},created:function(){},components:{Menu:ue,Footer:be},methods:{login:function(){var t=this;this.loading=!0;try{w(this.email,this.password).then((function(){t.$router.push("/admin")}),(function(e){console.log(e),t.snackbar=!0,t.text="Error logging in"+e}))}catch(e){this.snackbar=!0,this.text="Error logging in"+e}this.loading=!1}}},we=Ce,Ve=a("a75b"),Se=a("71d9"),Ne=a("2a7f"),Te=Object(l["a"])(we,_e,ye,!1,null,null,null),Pe=Te.exports;M()(Te,{VApp:ft["a"],VBtn:j["a"],VCard:F["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCol:wt["a"],VContainer:Vt["a"],VContent:Ve["a"],VForm:Lt["a"],VProgressLinear:Z["a"],VRow:St["a"],VSnackbar:Dt["a"],VSpacer:tt["a"],VTextField:Kt["a"],VToolbar:Se["a"],VToolbarTitle:Ne["a"]});var Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire",dark:""}},[a("Menu"),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{staticClass:"mx-auto",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12 mx-auto"},[a("v-progress-linear",{attrs:{active:t.loading,color:"indigo darken-4",striped:"",top:"",indeterminate:t.loading,absolute:""}}),a("v-toolbar",{attrs:{color:"success",dark:"",flat:"","max-height":"150px"}},[a("v-toolbar-title",[t._v("Phone Number")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.generateOTP(e)}}},[a("v-select",{attrs:{"item-value":"code","item-text":"code",items:t.countryCodes,label:"Select Country code"},model:{value:t.selectedCountryCode,callback:function(e){t.selectedCountryCode=e},expression:"selectedCountryCode"}}),a("v-text-field",{attrs:{label:"Number",name:"number",type:"text"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-3 mb-3",attrs:{block:"",color:"success"},on:{click:t.generateOTP}},[t._v("Generate OTP")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Verify OTP")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"OTP*",rules:t.requiredRule,outlined:"",dense:""},model:{value:t.otpVerifyCode,callback:function(e){t.otpVerifyCode=e},expression:"otpVerifyCode"}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.verifyOTP}},[t._v(" Check ")])],1)],1)],1),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1),a("Footer")],1)],1)},Re=[],Ie=(a("4de4"),{data:function(){return{show2:!1,snackbar:!1,text:"",number:null,password:null,countryCodes:null,selectedCountryCode:"",otpVerifyCode:"",has_error:!1,loading:!1,valid:"",dialog:!1,requiredRule:[function(t){return!!t||"Field is required"}]}},created:function(){var t=this;this.$http({url:"/countrycodes",method:"GET"}).then((function(e){console.log(e);var a=e.data;a.sort((function(t,e){return t.countryName<e.countryName?-1:t.countryName>e.countryName?1:0})),console.log(a),t.countryCodes=a.map((function(t){return t.countryCode1})),t.countryCodes.filter((function(t){return 60==t}))[0]&&(t.selectedCountryCode=t.countryCodes.filter((function(t){return 60==t}))[0])}),(function(e){t.snackbar=!0,t.text="Error fetching country codes "+e}))},components:{Menu:ue,Footer:be},methods:{updateStore:function(){this.$store.dispatch("addForgetPasswordNumber",this.selectedCountryCode+""+this.number)},addOTPVerified:function(t){this.$store.dispatch("addOTPVerified",t)},destroyForgetPasswordNumber:function(){this.$store.dispatch("destroyForgetPasswordNumber")},verifyOTP:function(){var t=this;if(this.$refs.form.validate()){console.log("kk"),this.loading=!0;try{this.$http({url:"account/VerifyOTPPassword?phoneNumber=".concat(this.selectedCountryCode).concat(this.number,"&otp=").concat(this.otpVerifyCode),method:"POST",data:{}}).then((function(e){console.log(e),t.addOTPVerified(!0),t.isUpdating=!1,t.dialog=!1,t.loading=!1,t.$router.push({path:"password-change"})}),(function(){t.addOTPVerified(!1),t.destroyForgetPasswordNumber(),t.isUpdating=!1,t.snackbar=!0,t.text="OTP verification error",t.loading=!1}))}catch(e){this.snackbar=!0,this.text="Fill OTP",this.loading=!1}}},generateOTP:function(){var t=this;this.loading=!0;try{this.$http({url:"account/ForgotPasssordAdmin?phoneNumber=".concat(this.selectedCountryCode).concat(this.number),method:"POST",data:{}}).then((function(e){console.log(e),t.isUpdating=!1,t.dialog=!0,t.loading=!1,t.updateStore()}),(function(e){t.isUpdating=!1,t.snackbar=!0,t.text="Error finding number : "+e,t.loading=!1}))}catch(e){this.snackbar=!0,this.text="Error finding number"+e,this.loading=!1}}}}),Ee=Ie,Ae=a("169a"),Me=a("b974"),Le=Object(l["a"])(Ee,Oe,Re,!1,null,null,null),Be=Le.exports;M()(Le,{VApp:ft["a"],VBtn:j["a"],VCard:F["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:wt["a"],VContainer:Vt["a"],VContent:Ve["a"],VDialog:Ae["a"],VForm:Lt["a"],VProgressLinear:Z["a"],VRow:St["a"],VSelect:Me["a"],VSnackbar:Dt["a"],VSpacer:tt["a"],VTextField:Kt["a"],VToolbar:Se["a"],VToolbarTitle:Ne["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire",dark:""}},[a("Menu"),a("v-content",[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{staticClass:"mx-auto",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12 mx-auto"},[a("v-progress-linear",{attrs:{active:t.loading,color:"indigo darken-4",striped:"",top:"",indeterminate:t.loading,absolute:""}}),a("v-toolbar",{attrs:{color:"success",dark:"",flat:"","max-height":"150px"}},[a("v-toolbar-title",[t._v("Enter New Password")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword(e)}}},[a("p",{staticClass:"text-caption text-center"},[t._v(" Enter New password for : "+t._s(this.number)+" ")]),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","append-icon":t.show2?"mdi-eye":"mdi-eye-off",type:t.show2?"text":"password"},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-3 mb-3",attrs:{block:"",color:"success"},on:{click:t.changePassword}},[t._v("Change Password")])],1)],1)],1)],1),a("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),a("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1),a("Footer")],1)],1)},$e=[],je={data:function(){return{show2:!1,snackbar:!1,text:"",number:null,password:null,has_error:!1,loading:!1,otpVerified:!1}},created:function(){this.getNumber(),this.getOTPVerified()},components:{Menu:ue,Footer:be},methods:{getNumber:function(){this.number=this.$store.getters.getForgetPasswordNumber},getOTPVerified:function(){this.otpVerified=this.$store.getters.getOTPVerified},addOTPVerified:function(t){this.$store.dispatch("addOTPVerified",t)},destroyForgetPasswordNumber:function(){this.$store.dispatch("destroyForgetPasswordNumber")},changePassword:function(){var t=this;this.loading=!0,console.log(this.otpVerified),console.log(this.number),this.otpVerified&&this.number?this.$http({url:"account/ForgotPasswordChange?phoneNumber=".concat(this.number),method:"POST",data:{password:this.password}}).then((function(e){t.addOTPVerified(!1),t.destroyForgetPasswordNumber(),console.log(e),t.loading=!1,t.$router.push({path:"login"})}),(function(e){t.snackbar=!0,t.text="Error fetching country codes "+e,t.loading=!1})):(this.snackbar=!0,this.text="No otp or number present.",this.loading=!1)}}},Fe=je,qe=Object(l["a"])(Fe,De,$e,!1,null,null,null),Ue=qe.exports;M()(qe,{VApp:ft["a"],VBtn:j["a"],VCard:F["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCol:wt["a"],VContainer:Vt["a"],VContent:Ve["a"],VForm:Lt["a"],VProgressLinear:Z["a"],VRow:St["a"],VSnackbar:Dt["a"],VSpacer:tt["a"],VTextField:Kt["a"],VToolbar:Se["a"],VToolbarTitle:Ne["a"]});var Ge=[{path:"",component:ke,meta:{allowAnonymous:!0}},{path:"/login",name:"login",component:Pe,meta:{allowAnonymous:!0}},{path:"/forget-password",name:"forget-password",component:Be,meta:{allowAnonymous:!0}},{path:"/password-change",name:"password-change",component:Ue,meta:{allowAnonymous:!0}},{path:"/admin",component:gt,children:[{path:"",name:"admin.dashboard",component:Pt},{path:"dashboard",name:"admin.dashboard.stats",component:Pt,smart:{matcher:{search:[/dashboard/],title:function(){return"Dashboard"}}}},{path:"books",name:"admin.dashboard.books",component:Ft,smart:{matcher:{search:[/books/],title:function(){return"Books"}}}},{path:"books/checkout/:id",name:"admin.dashboard.books.checkout",component:Wt,smart:{matcher:{search:[/books checkout/],title:function(){return"Books Checkout"}}}},{path:"books/checkin/:id",name:"admin.dashboard.books.checkin",component:ae,smart:{matcher:{search:[/books checkin/],title:function(){return"Books Checkin"}}}}]}],He=new d["a"]({mode:"history",base:"/",routes:Ge});He.beforeEach((function(t,e,a){T().then((function(e){"login"==t.name&&e?a({path:"/admin"}):t.meta.allowAnonymous||e?a():a({path:"/login",query:{redirect:t.fullPath}})}))}));var Ye=He,Ke=a("2f62"),ze=a("0e44");r["a"].use(Ke["a"]);var Je=new Ke["a"].Store({plugins:[Object(ze["a"])()],state:{forgetPasswordNumber:"",optVerified:!1,globalLoadingState:!1},mutations:{SET_GLOBAL_LOADING:function(t,e){console.log(e),t.globalLoadingState=e},ADD_FORGET_PASSWORD_NUMBER:function(t,e){console.log(e),t.forgetPasswordNumber=e},DESTROY_FORGET_PASSWORD_NUMBER:function(t){t.forgetPasswordNumber=""},ADD_OTP_VERIFIED:function(t,e){console.log(e),t.optVerified=e},DESTROY_OTP_VERIFIED:function(t){t.optVerified=!1}},actions:{setGlobalLoadingState:function(t,e){var a=t.commit;a("SET_GLOBAL_LOADING",e),setTimeout((function(){a("SET_GLOBAL_LOADING",!1)}),2e4)},addForgetPasswordNumber:function(t,e){var a=t.commit;a("ADD_FORGET_PASSWORD_NUMBER",e)},destroyForgetPasswordNumber:function(t){var e=t.commit;e("DESTROY_FORGET_PASSWORD_NUMBER")},addOTPVerified:function(t,e){var a=t.commit;a("ADD_OTP_VERIFIED",e)},destroyOTPVerified:function(t){var e=t.commit;e("DESTROY_OTP_VERIFIED")}},getters:{getGlobalLoading:function(t){return console.log(t.optVerified),t.globalLoadingState},getForgetPasswordNumber:function(t){return t.forgetPasswordNumber},getOTPVerified:function(t){return t.optVerified}},modules:{}}),We=a("f309");r["a"].use(We["a"]);var Xe=new We["a"]({theme:{themes:{light:{primary:"#303640",secondary:"#1672bc",anchor:"#8c9eff",error:"#d42020",info:"#28a9e1",success:"#2aa650",warning:"#fb9602"}}}}),Qe=a("a4a1"),Ze=a.n(Qe),ta=(a("f6b9"),a("ede2")),ea=a.n(ta),aa=a("00e7");r["a"].router=Ye,r["a"].use(d["a"]),r["a"].use(aa),r["a"].use(Ze.a),r["a"].use(ea.a),r["a"].prototype.$http=k,r["a"].config.productionTip=!1,r["a"].mixin({data:function(){return{globalBackgroundColor:"transparent",globalFontColor:"grey--text",globalSideBarActiveColor:"blue-grey darken-2",globalLoaderColor:"blue-grey darken-2",get globalBreadCrumb(){return this.globalBackgroundColor+" "+this.globalFontColor+" mb-0"}}}}),new r["a"]({el:"#app",router:Ye,store:Je,vuetify:Xe,render:function(t){return t(u)},created:function(){this.$vuetify.theme.dark=!1}})},"85ec":function(t,e,a){},"9b52":function(t,e,a){"use strict";var r=a("ea7c"),o=a.n(r);o.a},a71b:function(t,e,a){"use strict";var r=a("f926"),o=a.n(r);o.a},a78c:function(t,e,a){"use strict";var r=a("1dfe"),o=a.n(r);o.a},e7ad:function(t,e,a){t.exports=a.p+"img/demo_avatar.eba15ac8.png"},ea7c:function(t,e,a){},f926:function(t,e,a){}});
//# sourceMappingURL=app.92eba13f.js.map